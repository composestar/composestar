<?xml version="1.0" encoding="UTF-8"?>
<project name="ComposeStar/StarLight/MSBuild" default="build">

	<condition property="build.core" value="${basedir}/../../../..">
		<and>
			<not>
				<isset property="build.core" />
			</not>
			<available file="${basedir}/../../../../common.xml" />
		</and>
	</condition>
	<import file="${build.core}/common.xml" />

	<property name="MSBuildTasks.dir" location=""/>

	<echo>Processing: ${ant.project.name} ...</echo>

	<description>The Compose* StarLight MSBuild Tasks. Generates the MSBuild tasks.</description>

	<target name="clean" depends="init" description="Clean compile results">
		<antcall target="clean_msbuild"/>
	</target>

	<target name="clean_msbuild" if="available.msbuild">
		<msbuild solution="${MSBuildTasks.dir}\StarLight.MSBuild.Tasks.csproj" target="clean"/>
	</target>

	<target name="build" depends="init,compile" description="Compile the tasks code" />

	<target name="compile" depends="init">
		<msbuild solution="${MSBuildTasks.dir}\StarLight.MSBuild.Tasks.csproj" target="build" config="release" />
	</target>

</project>
