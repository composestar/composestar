<?xml version="1.0" encoding="UTF-8"?>
<project name="ComposeStar/StarLight/MSBuild" default="build">

	<property name="build.core" location="../../../../Core"/>
	<import file="${build.core}/common.xml" />

	<echo>Processing: ${ant.project.name} ...</echo>
	<description>The Compose* StarLight MSBuild Tasks. Generates the MSBuild tasks.</description>

	<property name="buildfile" value="StarLight.MSBuild.Tasks.csproj"/>

	<target name="clean" depends="init" description="Clean compile results">
		<msbuild solution="${buildfile}" target="clean" config="${msbuild.config}"/>
	</target>

	<target name="build" depends="init,antlr" description="Build the Tasks project">
		<msbuild solution="${buildfile}" target="build" config="${msbuild.config}" />
	</target>

	<target name="deploy" depends="init,antlr" description="Deploy the Tasks project">
		<msbuild solution="${buildfile}" target="deploy" config="${msbuild.config}" />
	</target>

	<target name="antlr">
		<ant dir="${build.core}/Compiletime/grammar" target="antlr_cps_dotnet" inheritRefs="true"/>
		<ant dir="../../TypeAnalyzer" target="antlr" inheritRefs="true"/>
	</target>

</project>
