<?xml version="1.0" encoding="UTF-8"?>
<project name="ComposeStar/Core" default="build">

	<import file="common.xml" />

	<echo>Processing: ${ant.project.name} ...</echo>
	
	<description>
	The Compose* Core
	Everything else depends on the core
	</description>

	<target name="clean" depends="init">
		<delete file="${build.core}${file.separator}findbugs-result.html" />
		<ant target="clean" dir="Compiletime" />
		<ant target="clean" dir="Runtime" />
	</target>
	
	
	<target name="build" depends="init">
		<ant target="build" dir="Compiletime" />
		<ant target="build" dir="Runtime" />
	</target>
	
	<target name="install" depends="build">
		<ant target="install" dir="Compiletime" />
	</target>
	
	<target name="findbugs" depends="init">
		<findbugs home="${bin.findbugs}" output="xml:withMessages" effort="${findbugs.effort}" reportLevel="${findbugs.reportLevel}" outputFile="${build.core}${file.separator}findbugs-result.xml" excludeFilter="${bin.findbugs}${file.separator}exclude.xml" jvmargs="${findbugs.jvmargs}">
			<class location="${build.core}${file.separator}Compiletime${file.separator}${out.build}" />
			<sourcePath path="${build.core}${file.separator}Compiletime${file.separator}src" />
			<auxClasspath refid="lib.core" />
		</findbugs>
		<xslt in="${build.core}${file.separator}findbugs-result.xml" out="${build.core}${file.separator}findbugs-result.html" style="${findbugs.style}" />
	</target>
	
</project>